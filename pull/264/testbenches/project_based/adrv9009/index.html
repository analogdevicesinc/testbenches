<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="The purpose of this testbench is to validate the serial interface functionality of the projects/adrv9009 reference design." name="description" />

    <title>ADRV9009 &#8212; Testbenches  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/app.min.css?v=31a9e0ba" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <script async="async" src="../../../_static/app.umd.js?v=3a4867e9"></script>
    <link rel="icon" href="../../../_static/icon.svg"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="FMCOMMS2" href="../fmcomms2/index.html" />
    <link rel="prev" title="ADRV9001" href="../adrv9001/index.html" />
   
  
  
  <meta name="repository" content="testbenches">
  <meta name="version" content="">
  
    <meta name="page_source_suffix" content=".rst">
  
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head>
  
    <body>
  
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com" aria-label="Analog Devices Inc. landing page"></a>
        <div class="vertical-divider"></div>
        
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        
        <a id="logo" href="../../../index.html">
          <div>HDL Testbenches</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../../index.html" class="current">HDL Testbenches</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div class="header localtoc-header">
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">ADRV9009</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#block-design">Block design</a><ul>
<li><a class="reference internal" href="#block-diagram">Block diagram</a></li>
<li><a class="reference internal" href="#configuration-parameters-and-modes">Configuration parameters and modes</a><ul>
<li><a class="reference internal" href="#configuration-files">Configuration files</a></li>
<li><a class="reference internal" href="#tests">Tests</a></li>
<li><a class="reference internal" href="#available-configurations-tests-combinations">Available configurations &amp; tests combinations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cpu-memory-interconnect-addresses">CPU/Memory interconnect addresses</a></li>
<li><a class="reference internal" href="#interrupts">Interrupts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#test-stimulus">Test stimulus</a><ul>
<li><a class="reference internal" href="#environment-bringup">Environment bringup</a></li>
<li><a class="reference internal" href="#jesd-objects-initialization-link-layer-and-transceiver-interface-setup">JESD objects initialization, link-layer and transceiver interface setup</a></li>
<li><a class="reference internal" href="#clock-frequency-configuration-and-jesd-device-clock-setup">Clock frequency configuration and JESD device clock setup</a></li>
<li><a class="reference internal" href="#clock-startup-transceiver-configuration-and-test-execution">Clock startup, transceiver configuration, and test execution</a></li>
<li><a class="reference internal" href="#test-execution">Test execution</a><ul>
<li><a class="reference internal" href="#tx-tpl-test">TX TPL test</a></li>
<li><a class="reference internal" href="#rx-tpl-test">RX TPL test</a></li>
<li><a class="reference internal" href="#rx-os-tpl-test">RX OS TPL test</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stop-the-environment">Stop the environment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-the-testbench">Building the testbench</a></li>
<li><a class="reference internal" href="#resources">Resources</a><ul>
<li><a class="reference internal" href="#hdl-related-dependencies-forming-the-dut">HDL related dependencies forming the DUT</a></li>
<li><a class="reference internal" href="#testbenches-related-dependencies">Testbenches related dependencies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-information">More information</a></li>
<li><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../../../index.html">
      Testbenches
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../index.html" class="current">HDL Testbenches</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><ul class="current">
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="../../../user_guide/index.html">User Guide</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/git_repository.html">Git repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/releases.html">Releases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/build_tb.html">Build a testbench</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/hierarchy.html">Repository hierarchy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/create_edit_tb.html">Creation and editing of HDL testbenches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/coding_guidelines.html">Testbenches coding guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/debug_tb.html">Debugging a testbench</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user_guide/docs_guidelines.html">Documentation guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2" id="toctree-collapse-2"/><div class="collapse"><a class="reference internal" href="../../../library/index.html">Library</a><label for="toctree-collapse-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1" id="toctree-collapse-2-1"/><div class="collapse"><a class="reference internal" href="../../../library/drivers/index.html">Drivers</a><label for="toctree-collapse-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1-1" id="toctree-collapse-2-1-1"/><div class="collapse"><a class="reference internal" href="../../../library/drivers/common/index.html">Common</a><label for="toctree-collapse-2-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../library/drivers/common/scoreboard/index.html">Scoreboard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../library/drivers/common/watchdog/index.html">Watchdog</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../library/drivers/data_offload/index.html">Data Offload</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../library/drivers/dmac/index.html">DMAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../library/drivers/jesd/index.html">JESD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../library/drivers/spi_engine/index.html">SPI Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../library/drivers/xcvr/index.html">XCVR</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../library/regmaps/index.html">Registermaps</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-2" id="toctree-collapse-2-2"/><div class="collapse"><a class="reference internal" href="../../../library/utilities/index.html">Utilities</a><label for="toctree-collapse-2-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../library/utilities/test_harness/index.html">Test Harness</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-3" id="toctree-collapse-2-3"/><div class="collapse"><a class="reference internal" href="../../../library/vip/index.html">Verification IPs (VIP)</a><label for="toctree-collapse-2-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-3-1" id="toctree-collapse-2-3-1"/><div class="collapse"><a class="reference internal" href="../../../library/vip/adi/index.html">ADI</a><label for="toctree-collapse-2-3-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../library/vip/adi/spi_vip/index.html">SPI VIP</a></li>
</ul>
</li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-3-2" id="toctree-collapse-2-3-2"/><div class="collapse"><a class="reference internal" href="../../../library/vip/amd/index.html">AMD</a><label for="toctree-collapse-2-3-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-3-2-1" id="toctree-collapse-2-3-2-1"/><div class="collapse"><a class="reference internal" href="../../../library/vip/amd/axi_vip/index.html">AXI VIP</a><label for="toctree-collapse-2-3-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../library/vip/amd/axi_vip/adi_axi_agent.html">ADI AXI Agent</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../library/vip/amd/axi_vip/m_axi_sequencer.html">ADI AXI Master Sequencer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../library/vip/amd/axi_vip/s_axi_sequencer.html">ADI AXI Slave Sequencer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../library/vip/amd/axi_vip/adi_axi_monitor.html">ADI AXI Monitor</a></li>
</ul>
</li>
<li class="toctree-l4"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-3-2-2" id="toctree-collapse-2-3-2-2"/><div class="collapse"><a class="reference internal" href="../../../library/vip/amd/axis_vip/index.html">AXIS VIP</a><label for="toctree-collapse-2-3-2-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../library/vip/amd/axis_vip/adi_axis_agent.html">ADI AXIS Agent</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../library/vip/amd/axis_vip/m_axis_sequencer.html">ADI AXIS Master Sequencer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../library/vip/amd/axis_vip/s_axis_sequencer.html">ADI AXIS Slave Sequencer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../library/vip/amd/axis_vip/adi_axis_monitor.html">ADI AXIS Monitor</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../library/vip/amd/clk_vip/index.html">Clock VIP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../library/vip/amd/rst_vip/index.html">Reset VIP</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3" id="toctree-collapse-3" checked=""/><div class="collapse"><a class="reference internal" href="../../index.html">Testbenches</a><label for="toctree-collapse-3"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3-1" id="toctree-collapse-3-1"/><div class="collapse"><a class="reference internal" href="../../ip_based/index.html">IP Based</a><label for="toctree-collapse-3-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/axis_sequencers/index.html">AXIS Sequencers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/base/index.html">Base</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/dma_flock/index.html">DMA Framelock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/dma_loopback/index.html">DMA Loopback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/dma_sg/index.html">DMA Scatter-Gather</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/i3c_controller/index.html">I3C Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/jesd_loopback/index.html">JESD Loopback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/util_axis_fifo/index.html">Util AXIS FIFO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/util_axis_fifo_asym/index.html">Util AXIS FIFO Asymmetric</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ip_based/util_pack/index.html">Util Pack</a></li>
</ul>
</li>
<li class="toctree-l2 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3-2" id="toctree-collapse-3-2" checked=""/><div class="collapse"><a class="reference internal" href="../index.html">Project Based</a><label for="toctree-collapse-3-2"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ad463x/index.html">AD463x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ad57xx/index.html">AD57XX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ad738x/index.html">AD738x</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ad7606/index.html">AD7606</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ad7616/index.html">AD7616</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ad9083/index.html">AD9083</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adrv9001/index.html">ADRV9001</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ADRV9009</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fmcomms2/index.html">FMCOMMS2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pluto/index.html">PLUTO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pulsar_adc/index.html">PulSAR ADC PMDZ</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
  <nav class="breadcrumb"><ol><li><a href="../../index.html">Testbenches</a></li><li><a href="../index.html">Project Based</a></li></ol></nav>
</div>
          <div class="body" role="main">
            
  <section id="adrv9009">
<span id="id1"></span><h1>ADRV9009<a class="headerlink" href="#adrv9009" title="Link to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>The purpose of this testbench is to validate the serial interface functionality
of the <a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/projects/adrv9009" target="_blank">projects/adrv9009</a> reference design.</p>
<p>The entire HDL documentation can be found here
<a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/projects/adrv9009/index.html#adrv9009" target="_blank" title="(in HDL)"><span class="xref std std-ref">ADRV9009 HDL project</span></a>.</p>
</section>
<section id="block-design">
<h2>Block design<a class="headerlink" href="#block-design" title="Link to this heading"></a></h2>
<p>The testbench block design includes part of the ADRV9009 HDL reference design,
along with JESD exercisers and VIPs used for clocking, reset, PS and DDR
simulations.</p>
<section id="block-diagram">
<h3>Block diagram<a class="headerlink" href="#block-diagram" title="Link to this heading"></a></h3>
<p>The data path and clock domains are depicted in the below diagram:</p>
<a class="reference internal image-reference" href="../../../_images/adrv9009_tb.svg"><img alt="adrv9009/Testbench block diagram" class="align-center" src="../../../_images/adrv9009_tb.svg" style="width: 800px;" />
</a>
</section>
<section id="configuration-parameters-and-modes">
<h3>Configuration parameters and modes<a class="headerlink" href="#configuration-parameters-and-modes" title="Link to this heading"></a></h3>
<p>The following parameters of this testbench that can be configured:</p>
<ul class="simple">
<li><p>LINK_MODE: the JESD204B link mode (1: JESD_8B10B encoding; 2: JESD_64B66B
encoding)</p></li>
<li><p>REF_CLK_RATE: the rate of the reference clock in MHz</p></li>
<li><p>LANE_RATE: the JESD204B lane rate in Gbps</p></li>
<li><p>DAC_OFFLOAD_TYPE: the type of DAC offload</p></li>
<li><p>DAC_OFFLOAD_SIZE: the size of DAC offload</p></li>
<li><p>PLDDR_OFFLOAD_DATA_WIDTH: the data width of the PL DDR offload interface</p></li>
<li><p>[RX/TX/RX_OS]_JESD_M: number of converters per link</p></li>
<li><p>[RX/TX/RX_OS]_JESD_L: number of lanes per link</p></li>
<li><p>[RX/TX/RX_OS]_JESD_S: number of samples per frame</p></li>
<li><p>[RX/TX/RX_OS]_JESD_NP: number of bits per sample</p></li>
<li><p>[RX/TX/RX_OS]_JESD_F: number of octets per frame per lane</p></li>
<li><p>[RX/TX/RX_OS]_JESD_K: number of framer per multiframe</p></li>
</ul>
<section id="configuration-files">
<h4>Configuration files<a class="headerlink" href="#configuration-files" title="Link to this heading"></a></h4>
<p>The following configuration files are available:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>cfg1</p></th>
<th class="head"><p>cfg2</p></th>
<th class="head"><p>cfg3</p></th>
<th class="head"><p>cfg4</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LINK_MODE</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>REF_CLK_RATE</p></td>
<td><p>500</p></td>
<td><p>500</p></td>
<td><p>500</p></td>
<td><p>500</p></td>
</tr>
<tr class="row-even"><td><p>LANE_RATE</p></td>
<td><p>10</p></td>
<td><p>10</p></td>
<td><p>10</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-odd"><td><p>DAC_OFFLOAD_TYPE</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>DAC_OFFLOAD_SIZE</p></td>
<td><p>[expr 2*1024*1024]</p></td>
<td><p>[expr 2*1024*1024]</p></td>
<td><p>[expr 2*1024*1024]</p></td>
<td><p>[expr 2*1024*1024]</p></td>
</tr>
<tr class="row-odd"><td><p>PLDDR_OFFLOAD_DATA_WIDTH</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>TX_JESD_M</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>TX_JESD_L</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>TX_JESD_S</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>TX_JESD_NP</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-even"><td><p>TX_JESD_F</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>TX_JESD_K</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
</tr>
<tr class="row-even"><td><p>RX_JESD_M</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>RX_JESD_L</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>RX_JESD_S</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>RX_JESD_NP</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-even"><td><p>RX_JESD_F</p></td>
<td><p>8</p></td>
<td><p>8</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>RX_JESD_K</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
</tr>
<tr class="row-even"><td><p>RX_OS_JESD_M</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>RX_OS_JESD_L</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>RX_OS_JESD_S</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>RX_OS_JESD_NP</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-even"><td><p>RX_OS_JESD_F</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>4</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>RX_OS_JESD_K</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
<td><p>32</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="tests">
<h4>Tests<a class="headerlink" href="#tests" title="Link to this heading"></a></h4>
<p>The following test program file is available:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Test program</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>test_program</p></td>
<td><p>Tests the adrv9009 project capabilities.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="available-configurations-tests-combinations">
<h4>Available configurations &amp; tests combinations<a class="headerlink" href="#available-configurations-tests-combinations" title="Link to this heading"></a></h4>
<p>The test program is compatible with the above mentioned configurations.</p>
</section>
</section>
<section id="cpu-memory-interconnect-addresses">
<h3>CPU/Memory interconnect addresses<a class="headerlink" href="#cpu-memory-interconnect-addresses" title="Link to this heading"></a></h3>
<p>Below are the CPU/Memory interconnect addresses used in this project:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Instance</p></th>
<th class="head"><p>Address</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>axi_intc</p></td>
<td><p>0x4120_0000</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_tx_clkgen</p></td>
<td><p>0x43C0_0000</p></td>
</tr>
<tr class="row-even"><td><p>axi_adrv9909_rx_clkgen</p></td>
<td><p>0x43C1_0000</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_rs_os_clkgen</p></td>
<td><p>0x43C2_0000</p></td>
</tr>
<tr class="row-even"><td><p>rx_adrv9009_tpl_core</p></td>
<td><p>0x44A0_0000</p></td>
</tr>
<tr class="row-odd"><td><p>tx_adrv9009_tpl_core</p></td>
<td><p>0x44A0_4000</p></td>
</tr>
<tr class="row-even"><td><p>rx_os_adrv9009_tpl_core</p></td>
<td><p>0x44A0_8000</p></td>
</tr>
<tr class="row-odd"><td><p>rx_jesd_exerciser/axi_jesd</p></td>
<td><p>0x44A1_0000</p></td>
</tr>
<tr class="row-even"><td><p>rx_jesd_exerciser/axi_xcvr</p></td>
<td><p>0x44A2_0000</p></td>
</tr>
<tr class="row-odd"><td><p>rx_jesd_exerciser/rx_tpl_core</p></td>
<td><p>0x44A3_0000</p></td>
</tr>
<tr class="row-even"><td><p>tx_jesd_exerciser/axi_jesd</p></td>
<td><p>0x44A4_0000</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_rx_os_xcvr</p></td>
<td><p>0x44A5_0000</p></td>
</tr>
<tr class="row-even"><td><p>axi_adrv9009_rx_xcvr</p></td>
<td><p>0x44A6_0000</p></td>
</tr>
<tr class="row-odd"><td><p>tx_jesd_exerciser/axi_xcvr</p></td>
<td><p>0x44A7_0000</p></td>
</tr>
<tr class="row-even"><td><p>axi_adrv9009_tx_xcvr</p></td>
<td><p>0x44A8_0000</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_tx_jesd</p></td>
<td><p>0x44A9_0000</p></td>
</tr>
<tr class="row-even"><td><p>axi_adrv9009_rx_jesd</p></td>
<td><p>0x44AA_0000</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_rx_os_jesd</p></td>
<td><p>0x44AB_0000</p></td>
</tr>
<tr class="row-even"><td><p>tx_jesd_exerciser/tx_tpl_core</p></td>
<td><p>0x44AC_0000</p></td>
</tr>
<tr class="row-odd"><td><p>tx_os_exerciser/axi_jesd</p></td>
<td><p>0x44AD_0000</p></td>
</tr>
<tr class="row-even"><td><p>tx_os_exerciser/axi_xcvr</p></td>
<td><p>0x44AE_0000</p></td>
</tr>
<tr class="row-odd"><td><p>tx_os_exerciser/tx_tpl_core</p></td>
<td><p>0x44AF_0000</p></td>
</tr>
<tr class="row-even"><td><p>axi_adrv9009_rx_dma</p></td>
<td><p>0x7C40_0000</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_tx_dma</p></td>
<td><p>0x7C42_0000</p></td>
</tr>
<tr class="row-even"><td><p>adrv9009_data_offload</p></td>
<td><p>0x7C43_0000</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_rx_os_dma</p></td>
<td><p>0x7C44_0000</p></td>
</tr>
<tr class="row-even"><td><p>ddr_axi_vip</p></td>
<td><p>0x8000_0000</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="interrupts">
<h3>Interrupts<a class="headerlink" href="#interrupts" title="Link to this heading"></a></h3>
<p>Below are the Programmable Logic interrupts used in this project:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Instance name</p></th>
<th class="head"><p>HDL</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>axi_adrv9009_rx_jesd</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_rx_os_dma</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-even"><td><p>axi_adrv9009_tx_dma</p></td>
<td><p>13</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_rx_dma</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>axi_adrv9009_rx_os_jesd</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-odd"><td><p>axi_adrv9009_tx_jesd</p></td>
<td><p>7</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="test-stimulus">
<h2>Test stimulus<a class="headerlink" href="#test-stimulus" title="Link to this heading"></a></h2>
<p>The test program is structured into several tests as follows:</p>
<section id="environment-bringup">
<h3>Environment bringup<a class="headerlink" href="#environment-bringup" title="Link to this heading"></a></h3>
<p>The steps of the environment bringup are:</p>
<ul class="simple">
<li><p>Create the environment</p></li>
<li><p>Start the environment</p></li>
<li><p>Assert the resets</p></li>
</ul>
</section>
<section id="jesd-objects-initialization-link-layer-and-transceiver-interface-setup">
<h3>JESD objects initialization, link-layer and transceiver interface setup<a class="headerlink" href="#jesd-objects-initialization-link-layer-and-transceiver-interface-setup" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Create and configure the JESD204 link objects used in the testbench: TX, RX,
and RX_OS. Each link is instantiated and its key parameters are set based on
the project configuration macros.</p></li>
<li><p>Instantiate and initialize AXI-accessible verification components that model
both the DUT and the external (EX) JESD204 interfaces. Each component is
connected to the common AXI master sequencer within the base environment and
linked to its corresponding JESD link configuration object.</p></li>
<li><p>The <cite>probe()</cite> method is called for each instance to read and verify initial
register states, confirming correct connectivity to the mapped AXI address
regions.</p></li>
</ul>
</section>
<section id="clock-frequency-configuration-and-jesd-device-clock-setup">
<h3>Clock frequency configuration and JESD device clock setup<a class="headerlink" href="#clock-frequency-configuration-and-jesd-device-clock-setup" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The reference clock (<cite>REF_CLK</cite>) is initialized based on the project’s
configured reference rate (<cite>REF_CLK_RATE</cite>), converted to Hz.</p></li>
<li><p>Each JESD link-layer model (RX, TX, TX_OS) computes its respective device
clock frequency using its internal parameters via <cite>calc_device_clk()</cite>.</p></li>
<li><p>The calculated device clocks are then applied to the corresponding clock
interface handles in the test harness (<cite>TH</cite>), ensuring that all simulated
clock domains (RX, TX, TX_LINK, TX_OS) run at frequencies consistent with
the configured JESD link settings.</p></li>
<li><p>Similarly, each link-layer model computes its SYSREF clock via
<cite>calc_sysref_clk()</cite>, providing the synchronized SYSREF timing used for
deterministic latency alignment in JESD204 systems.</p></li>
</ul>
</section>
<section id="clock-startup-transceiver-configuration-and-test-execution">
<h3>Clock startup, transceiver configuration, and test execution<a class="headerlink" href="#clock-startup-transceiver-configuration-and-test-execution" title="Link to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>SYSREF clock assignment</dt><dd><ul>
<li><p>The common SYSREF frequency is applied to the SYSREF clock interface.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Start all clocks</dt><dd><ul>
<li><p>All relevant clock domains (REF_CLK, RX/TX/TX_LINK/TX_OS device clocks,
and SYSREF) are started to begin simulation timing.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Transceiver clock setup</dt><dd><ul>
<li><p>External (ex_*) and DUT (dut_*) transceivers are configured via
<cite>setup_clocks()</cite> using the lane rate and reference clock.</p></li>
<li><p>DUT transceivers also specify the PLL type (CPLL/QPLL) where required.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="test-execution">
<h3>Test execution<a class="headerlink" href="#test-execution" title="Link to this heading"></a></h3>
<p>Template pattern tests for TX, RX, and RX_OS paths are executed. These tasks
configure and execute JESD204 template pattern tests for the TX, RX, and RX
observation (RX_OS) paths in the testbench. They support both DDS-generated
tones and DMA-based stimulus depending on the <cite>use_dds</cite> parameter (<cite>int use_dds</cite>
– if non-zero, the external DAC uses DDS-generated tones; otherwise, DMA data
is used).</p>
<section id="tx-tpl-test">
<h4>TX TPL test<a class="headerlink" href="#tx-tpl-test" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>Initialize DMA-based stimulus (if use_dds == 0)</strong></p>
<ul class="simple">
<li><p>Write a deterministic pattern to DDR memory using the <code class="docutils literal notranslate"><span class="pre">BackdoorWrite32</span></code>
interface of the DDR slave sequencer.</p></li>
<li><p>Configure the TX DMA engine by writing to its registers:</p>
<ul>
<li><p>Enable DMA.</p></li>
<li><p>Set TLAST flag.</p></li>
<li><p>Set transfer length.</p></li>
<li><p>Set source address to DDR base.</p></li>
<li><p>Submit DMA transfer.</p></li>
<li><p>Wait for 5 µs to ensure the DMA is configured.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Configure DAC TPL channels</strong></p>
<ul class="simple">
<li><p>Iterate over each TX lane:</p>
<ul>
<li><p>If <code class="docutils literal notranslate"><span class="pre">use_dds</span></code> is enabled:</p>
<ul>
<li><p>Select DDS as the data source.</p></li>
<li><p>Configure tone amplitude (<code class="docutils literal notranslate"><span class="pre">DDS_SCALE_1</span></code>) and frequency
(<code class="docutils literal notranslate"><span class="pre">DDS_INCR_1</span></code>).</p></li>
</ul>
</li>
<li><p>Otherwise:</p>
<ul>
<li><p>Select DMA as the source for the DAC template pattern.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Enable external ADC TPL channels</strong></p>
<ul class="simple">
<li><p>Iterate over all TX lanes and enable the corresponding ADC TPL channels via
<code class="docutils literal notranslate"><span class="pre">CHAN_CNTRL</span></code> register.</p></li>
</ul>
</li>
<li><p><strong>Release DAC and ADC resets</strong></p>
<ul class="simple">
<li><p>Write <code class="docutils literal notranslate"><span class="pre">RSTN</span> <span class="pre">=</span> <span class="pre">1</span></code> to <code class="docutils literal notranslate"><span class="pre">DAC_COMMON_REG_RSTN</span></code> and <code class="docutils literal notranslate"><span class="pre">ADC_COMMON_REG_RSTN</span></code>.</p></li>
</ul>
</li>
<li><p><strong>Synchronize DDS cores (if use_dds == 1)</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Write to the DAC common control register to trigger synchronization.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Bring up the DUT TX path and external RX path</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Start the TX clock generator (<cite>AXI_CLKGEN_TX_BA</cite>) and bring up the DUT TX
transceiver.</p></li>
<li><p>Bring up the external RX transceiver and link.</p></li>
<li><p>Wait for both DUT and external link layers to report link-up status.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Simulation delay</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Wait for 10 µs to allow data flow and link stabilization.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Bring down the links</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Shut down the transceivers to conclude the test.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="rx-tpl-test">
<h4>RX TPL test<a class="headerlink" href="#rx-tpl-test" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>Configure external DAC TPL channels</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Iterate over all RX lanes (<cite>i = 0..RX_JESD_M-1</cite>):</p>
<ul>
<li><p>If <cite>use_dds</cite> is enabled:</p>
<ul>
<li><p>Select DDS as the data source for the DAC TPL channel.</p></li>
<li><p>Set the tone amplitude (<cite>DDS_SCALE_1</cite>) and frequency increment
(<cite>DDS_INCR_1</cite>).</p></li>
</ul>
</li>
<li><p>Otherwise:</p>
<ul>
<li><p>Select DMA as the data source for the DAC TPL channel.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Enable ADC TPL Channels</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Iterate over all RX lanes and enable the corresponding ADC channels via
<cite>CHAN_CNTRL</cite> register.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Release DAC and ADC Resets</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Deassert reset (<cite>RSTN = 1</cite>) for both the external DAC TPL and ADC TPL
common blocks.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Bring up DUT RX and External TX Paths</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Start the RX clock generator (<cite>AXI_CLKGEN_RX_BA</cite>) for the DUT.</p></li>
<li><p>Bring up the external TX transceiver and link.</p></li>
<li><p>Bring up the DUT RX transceiver and link.</p></li>
<li><p>Wait for both DUT and external link layers to report link-up.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Simulation delay</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Wait for 10 µs to allow data flow and link stabilization.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Configure RX DMA (if `use_dds == 0`)</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Enable the RX DMA engine and configure:</p>
<ul>
<li><p>Control register (enable DMA).</p></li>
<li><p>Flags (TLAST).</p></li>
<li><p>Transfer length.</p></li>
<li><p>Destination address in DDR.</p></li>
<li><p>Submit DMA transfer.</p></li>
</ul>
</li>
<li><p>Wait for 5 µs to allow DMA to start.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Check Captured Data</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Call the <cite>check_captured_data</cite> function to verify that the data received
from the TX path is correctly captured in DDR:</p>
<ul>
<li><p>Parameters: address, length, step, max_sample.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Shutdown RX Path</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Bring down the DUT RX and external TX transceivers to conclude the test.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="rx-os-tpl-test">
<h4>RX OS TPL test<a class="headerlink" href="#rx-os-tpl-test" title="Link to this heading"></a></h4>
<ul>
<li><p><strong>Configure External DAC OS TPL Channels</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Iterate over all RX_OS lanes (<cite>i = 0..RX_OS_JESD_M-1</cite>):</p>
<ul>
<li><p>If <cite>use_dds</cite> is enabled:</p>
<ul>
<li><p>Select DDS as the data source for each DAC OS TPL channel.</p></li>
<li><p>Set the tone amplitude (<cite>DDS_SCALE_1</cite>) and frequency increment
(<cite>DDS_INCR_1</cite>).</p></li>
</ul>
</li>
<li><p>Otherwise:</p>
<ul>
<li><p>Select DMA as the source for DAC OS TPL channels.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Enable ADC OS TPL Channels</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Iterate over all RX_OS lanes and enable the corresponding ADC OS channels
via <cite>CHAN_CNTRL</cite> register.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Release DAC and ADC OS Resets</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Deassert reset (<cite>RSTN = 1</cite>) for both the external DAC OS TPL and ADC OS TPL
common blocks.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Bring up DUT RX Observation and External TX Observation Paths</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Start the RX OS clock generator (<cite>AXI_CLKGEN_RX_OS_BA</cite>) for the DUT.</p></li>
<li><p>Bring up the external TX OS transceiver and link.</p></li>
<li><p>Bring up the DUT RX OS transceiver and link.</p></li>
<li><p>Wait for both DUT and external RX OS links to report link-up.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Simulation Delay</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Wait 10 µs for data flow and link stabilization.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Configure RX OS DMA (if `use_dds == 0`)</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Enable the RX OS DMA engine and configure:
- Control register (enable DMA).
- Flags (TLAST).
- Transfer length.
- Destination address in DDR.
- Submit DMA transfer.</p></li>
<li><p>Wait 5 µs to allow DMA to start.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Check Captured Data</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Call the <cite>check_captured_data</cite> task to verify that the RX OS data captured
in DDR matches the expected template:
- Parameters: address, length, step, max_sample.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Shutdown RX OS Path</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Bring down the DUT RX OS and external TX OS transceivers.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="stop-the-environment">
<h3>Stop the environment<a class="headerlink" href="#stop-the-environment" title="Link to this heading"></a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Environment Stop</dt><dd><ul>
<li><p>The base testbench environment is stopped to end the test.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Stop All Clocks</dt><dd><ul>
<li><p>All clocks started previously are stopped to ensure clean shutdown.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Reporting</dt><dd><ul>
<li><p>A final informational message indicates that the test has completed.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
</section>
<section id="building-the-testbench">
<h2>Building the testbench<a class="headerlink" href="#building-the-testbench" title="Link to this heading"></a></h2>
<p>The testbench is built upon ADI’s generic HDL reference design framework.
ADI does not distribute compiled files of these projects so they must be built
from the sources available <a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/" target="_blank">here</a> and <a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/" target="_blank">here</a>,
with the specified hierarchy described <a class="reference internal" href="../../../user_guide/build_tb.html#build-tb-set-up-tb-repo"><span class="std std-ref">Set up the Testbenches repository</span></a>.
To get the source you must
<a class="icon link reference external" href="https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository" target="_blank">clone</a>
the HDL repository, and then build the project as follows:.</p>
<p><strong>Linux/Cygwin/WSL</strong></p>
<p><em>Example 1</em></p>
<p>Build all the possible combinations of tests and configurations, using only the
command line.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>user@analog:~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>testbenches/project/adrv9009
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>user@analog:~/testbenches/project/adrv9009$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make
</pre></div>
</div>
<div class="clear-left"></div></div></div><p><em>Example 2</em></p>
<p>Build all the possible combinations of tests and configurations, using the
Vivado GUI. This command will launch Vivado, will run the simulation and display
the waveforms.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>user@analog:~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>testbenches/project/adrv9009
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>user@analog:~/testbenches/project/adrv9009$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span><span class="nv">MODE</span><span class="o">=</span>gui
</pre></div>
</div>
<div class="clear-left"></div></div></div><p><em>Example 3</em></p>
<p>Build a particular combination of test and configuration, using the Vivado GUI.
This command will launch Vivado, will run the simulation and display the
waveforms.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>user@analog:~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>testbenches/project/adrv9009
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>user@analog:~/testbenches/project/adrv9009$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span><span class="nv">MODE</span><span class="o">=</span>gui<span class="w"> </span><span class="nv">CFG</span><span class="o">=</span>cfg1<span class="w"> </span><span class="nv">TST</span><span class="o">=</span>test_program
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>The built projects can be found in the <code class="docutils literal notranslate"><span class="pre">runs</span></code> folder, where each configuration
specific build has it’s own folder named after the configuration file’s name.
Example: if the following command was run for a single configuration in the
clean folder (no runs folder available):</p>
<p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">CFG=cfg1</span></code></p>
<p>Then the subfolder under <code class="docutils literal notranslate"><span class="pre">runs</span></code> name will be:</p>
<p><code class="docutils literal notranslate"><span class="pre">cfg1</span></code></p>
</section>
<section id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Link to this heading"></a></h2>
<section id="hdl-related-dependencies-forming-the-dut">
<h3>HDL related dependencies forming the DUT<a class="headerlink" href="#hdl-related-dependencies-forming-the-dut" title="Link to this heading"></a></h3>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 45.0%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>IP name</p></th>
<th class="head"><p>Source code link</p></th>
<th class="head"><p>Documentation link</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AXI_ADXCVR</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/xilinx/axi_adxcvr" target="_blank">library/xilinx/axi_adxcvr</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/axi_adxcvr/index.html#axi-adxcvr-amd" target="_blank" title="(in HDL)"><span>AMD Xilinx Devices</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>AXI_CLKGEN</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/axi_clkgen" target="_blank">library/axi_clkgen</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/axi_clkgen/index.html#axi-clkgen" target="_blank" title="(in HDL)"><span>AXI CLK Generator</span></a></p></td>
</tr>
<tr class="row-even"><td><p>AXI_DMAC</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/axi_dmac" target="_blank">library/axi_dmac</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/axi_dmac/index.html#axi-dmac" target="_blank" title="(in HDL)"><span>AXI DMAC</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>AXI_JESD204_RX</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/jesd204/axi_jesd204_rx" target="_blank">library/jesd204/axi_jesd204_rx</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/jesd204/axi_jesd204_rx/index.html#axi-jesd204-rx" target="_blank" title="(in HDL)"><span>JESD204B/C Link Receive Peripheral</span></a></p></td>
</tr>
<tr class="row-even"><td><p>AXI_JESD204_TX</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/jesd204/axi_jesd204_tx" target="_blank">library/jesd204/axi_jesd204_tx</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/jesd204/axi_jesd204_tx/index.html#axi-jesd204-tx" target="_blank" title="(in HDL)"><span>JESD204B/C Link Transmit Peripheral</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>DATA_OFFLOAD</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/data_offload" target="_blank">library/data_offload</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/data_offload/index.html#data-offload" target="_blank" title="(in HDL)"><span>Data Offload</span></a></p></td>
</tr>
<tr class="row-even"><td><p>JESD204_TPL_ADC</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/jesd204/ad_ip_jesd204_tpl_adc" target="_blank">library/jesd204/ad_ip_jesd204_tpl_adc</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/jesd204/ad_ip_jesd204_tpl_adc/index.html#ad-ip-jesd204-tpl-adc" target="_blank" title="(in HDL)"><span>ADC JESD204B/C Transport Peripheral</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>JESD204_TPL_DAC</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/jesd204/ad_ip_jesd204_tpl_dac" target="_blank">library/jesd204/ad_ip_jesd204_tpl_dac</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/jesd204/ad_ip_jesd204_tpl_dac/index.html#ad-ip-jesd204-tpl-dac" target="_blank" title="(in HDL)"><span>DAC JESD204B/C Transport Peripheral</span></a></p></td>
</tr>
<tr class="row-even"><td><p>UTIL_ADXCVR</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/xilinx/util_adxcvr" target="_blank">library/xilinx/util_adxcvr</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/xilinx/util_adxcvr/index.html#util-adxcvr" target="_blank" title="(in HDL)"><span>UTIL_ADXCVR core for AMD Xilinx devices</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>UTIL_CPACK2</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/util_pack/util_cpack2" target="_blank">library/util_pack/util_cpack2</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/util_pack/util_cpack2.html#util-cpack2" target="_blank" title="(in HDL)"><span>Channel CPACK Utility</span></a></p></td>
</tr>
<tr class="row-even"><td><p>UTIL_HBM</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/util_hbm" target="_blank">library/util_hbm</a></p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>UTIL_UPACK2</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/util_pack/util_upack2" target="_blank">library/util_pack/util_upack2</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/util_pack/util_upack2.html#util-upack2" target="_blank" title="(in HDL)"><span>Channel UPACK Utility</span></a></p></td>
</tr>
<tr class="row-even"><td><p>UTIL_DO_RAM</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/hdl/tree/main/library/util_do_ram" target="_blank">library/util_do_ram</a></p></td>
<td><p><a class="icon link reference external" href="https://analogdevicesinc.github.io/hdl/library/data_offload/index.html#data-offload" target="_blank" title="(in HDL)"><span>Data Offload</span></a></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="testbenches-related-dependencies">
<h3>Testbenches related dependencies<a class="headerlink" href="#testbenches-related-dependencies" title="Link to this heading"></a></h3>
<p>Common with most testbenches:</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 45.0%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SV dependency name</p></th>
<th class="head"><p>Source code link</p></th>
<th class="head"><p>Documentation link</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LOGGER_PKG</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/utilities/logger_pkg.sv" target="_blank">library/utilities/logger_pkg.sv</a></p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>M_AXI_SEQUENCER</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/vip/amd/m_axi_sequencer.sv" target="_blank">library/vip/amd/m_axi_sequencer.sv</a></p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>REG_ACCESSOR</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/regmaps/reg_accessor.sv" target="_blank">library/regmaps/reg_accessor.sv</a></p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>S_AXI_SEQUENCER</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/vip/amd/s_axi_sequencer.sv" target="_blank">library/vip/amd/s_axi_sequencer.sv</a></p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>TEST_HARNESS_ENV</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/utilities/test_harness_env.sv" target="_blank">library/utilities/test_harness_env.sv</a></p></td>
<td><p><a class="reference internal" href="../../../library/utilities/test_harness/index.html#test-harness"><span class="std std-ref">Test Harness</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>UTILS</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/utilities/utils.svh" target="_blank">library/utilities/utils.svh</a></p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>WATCHDOG</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/drivers/common/watchdog.sv" target="_blank">library/drivers/common/watchdog.sv</a></p></td>
<td><p><a class="reference internal" href="../../../library/drivers/common/watchdog/index.html#watchdog"><span class="std std-ref">Watchdog</span></a></p></td>
</tr>
</tbody>
</table>
</div>
<p>Testbench specific dependencies:</p>
<div class="table-wrapper colwidths-given docutils container">
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 45.0%" />
<col style="width: 25.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SV dependency name</p></th>
<th class="head"><p>Source code link</p></th>
<th class="head"><p>Documentation link</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ADI_REGMAP_ADC_PKG</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/regmaps/adi_regmap_adc_pkg.sv" target="_blank">library/regmaps/adi_regmap_adc_pkg.sv</a></p></td>
<td><p>—</p></td>
</tr>
<tr class="row-odd"><td><p>ADI_REGMAP_COMMON_PKG</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/regmaps/adi_regmap_common_pkg.sv" target="_blank">library/regmaps/adi_regmap_common_pkg.sv</a></p></td>
<td><p>—</p></td>
</tr>
<tr class="row-even"><td><p>ADI_REGMAP_DAC_PKG</p></td>
<td><p><a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/tree/main/library/regmaps/adi_regmap_dac_pkg.sv" target="_blank">library/regmaps/adi_regmap_dac_pkg.sv</a></p></td>
<td><p>—</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="more-information">
<h2>More information<a class="headerlink" href="#more-information" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="../../../user_guide/index.html#user-guide"><span class="std std-ref">ADI Testbenches User guide</span></a></p></li>
</ul>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Link to this heading"></a></h2>
<p><a class="icon link reference external" href="https://www.analog.com/en/index.html" target="_blank">Analog Devices, Inc.</a> will provide <strong>limited</strong> online support for anyone
using the <a class="icon git reference external" href="https://github.com/analogdevicesinc/testbenches/" target="_blank">reference design</a> with <a class="icon link reference external" href="https://www.analog.com/en/index.html" target="_blank">ADI</a> components via
the <a class="icon ez reference external" href="https://ez.analog.com/fpga" target="_blank">EngineerZone</a> FPGA reference designs forum.</p>
<p>It should be noted, that the older the tools’ versions and release branches
are, the lower the chances to receive support from <a class="icon link reference external" href="https://www.analog.com/en/index.html" target="_blank">ADI</a> engineers.</p>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="../adrv9001/index.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">ADRV9001</a>
    <a href="../fmcomms2/index.html" title="Next document (Alt+Shift+RightArrow)" class="next">FMCOMMS2</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2024-2025, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>